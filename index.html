<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ch√∫c m·ª´ng sinh nh·∫≠t</title>
<style>
:root {
  --bg: #0f1724;
  --accent: #ff6b6b;
  --soft: rgba(255, 255, 255, 0.08);
}
html, body {
  height: 100%; margin: 0;
  font-family: "Segoe UI", Roboto, Arial;
  background: radial-gradient(1200px 600px at 10% 10%, rgba(255,140,120,0.06), transparent),
              radial-gradient(900px 400px at 90% 90%, rgba(100,200,255,0.03), transparent),
              var(--bg);
  color: #e6f0ff;
  overflow-x: hidden;
}
.wrap {
  max-width: 700px;
  margin: 60px auto;
  padding: 28px;
}
.card {
  background: rgba(255, 255, 255, 0.05);
  border-radius: 14px;
  padding: 28px;
  box-shadow: 0 8px 30px rgba(2, 6, 23, 0.6);
  backdrop-filter: blur(6px);
}
.intro { display: flex; gap: 18px; align-items: center; }
.icon {
  width: 96px; height: 96px;
  border-radius: 16px; overflow: hidden;
  display: flex; align-items: center; justify-content: center;
  animation: float 3s ease-in-out infinite;
}
@keyframes float { 0%,100%{transform:translateY(0);}50%{transform:translateY(-8px);} }
.intro h1{margin:0;font-size:22px;}
.intro p{margin:4px 0 0;color:#bcd3ff;}
.step{margin-top:20px;}
.controls{display:flex;gap:12px;align-items:center;opacity:0;transform:translateY(8px);transition:all 0.6s ease;}
input[type="date"]{
  padding:10px 12px;border-radius:10px;
  border:1px solid rgba(255,255,255,0.06);
  background:var(--soft);color:inherit;outline:none;font-size:14px;
}
button{
  padding:10px 14px;border-radius:10px;border:none;
  background:linear-gradient(90deg,var(--accent),#ffb07b);
  color:#0b1220;font-weight:600;cursor:pointer;
  box-shadow:0 6px 18px rgba(255,110,110,0.14);
  transition:transform .15s ease,opacity .15s ease;
}
button:active{transform:translateY(1px);}
button[disabled]{opacity:0.5;cursor:not-allowed;}
.msg{min-height:22px;margin-top:10px;font-weight:600;color:#ffd9d9;}
.msg.ok{color:#b7ffcf;}
@keyframes confetti {
  0% {transform:translateY(0) rotate(0);opacity:1;}
  100% {transform:translateY(600px) rotate(720deg);opacity:0;}
}
.confetti {
  position:fixed;top:0;width:10px;height:10px;
  background:var(--accent);
  animation:confetti 3s linear forwards;
  border-radius:50%;z-index:999;
}
#birthdayScene {
  display:none;text-align:center;margin-top:20px;
  animation:fadeIn 1s ease forwards;
}
#cakeImg {
  width:180px;border-radius:14px;margin-top:12px;
  box-shadow:0 4px 20px rgba(255,255,255,0.2);
  animation:bounce 3s ease-in-out infinite;
}
@keyframes bounce{0%,100%{transform:translateY(0);}50%{transform:translateY(-10px);}}
#giftImages img {
  width:200px;border-radius:10px;
  box-shadow:0 2px 10px rgba(255,255,255,0.25);
  animation:shimmer 2s infinite alternate;
}
@keyframes shimmer{0%{filter:brightness(1);}100%{filter:brightness(1.5);}}
#giftChoice{display:none;margin-top:30px;}
.giftContainer {
  display:inline-block;margin:18px;position:relative;
  width:150px;height:150px;cursor:pointer;
  transition:transform 0.3s ease,filter 0.3s;
}
.giftContainer:hover {
  transform:translateY(-8px) scale(1.05);
  filter:drop-shadow(0 10px 25px rgba(255,182,193,0.4));
}
.giftBox {
  position:relative;width:100%;height:100%;
  border-radius:16px;
  background:linear-gradient(180deg,#ffd1dc,#ff9aa2);
  box-shadow:0 10px 25px rgba(255,182,193,0.4);
  overflow:hidden;
}
.giftLid {
  position:absolute;top:0;left:0;width:100%;height:40%;
  background:linear-gradient(180deg,#ffe5ec,#ffb3ba);
  border-bottom:6px solid #ff6f91;
  border-radius:16px 16px 8px 8px;
  transform-origin:top center;
  transition:transform 0.6s ease;
  display:flex;align-items:center;justify-content:center;
}
.giftRibbon {
  position:absolute;top:10%;left:50%;
  transform:translateX(-50%);
  width:24px;height:80%;
  background:linear-gradient(180deg,#ffdee0,#ff6f91);
  border-radius:10px;
}
.giftLid::before,.giftLid::after{
  content:"";position:absolute;top:-12px;
  width:36px;height:36px;
  background:radial-gradient(circle at 30% 30%,#fff,#ffb6c1);
  border-radius:50%;
  box-shadow:0 4px 8px rgba(255,182,193,0.4);
}
.giftLid::before{left:calc(50% - 20px);transform:rotate(-20deg);}
.giftLid::after{left:calc(50% + 20px);transform:rotate(20deg);}
.giftBox.open .giftLid{transform:rotateX(-120deg) translateY(-10px);}
.giftMessage{margin-top:12px;min-height:60px;color:#fff9b0;font-weight:700;text-align:center;letter-spacing:0.2px;font-size:15px;}
@keyframes fadeIn{from{opacity:0;transform:translateY(20px);}to{opacity:1;transform:translateY(0);}}
#closeBtn {
  position:fixed;top:12px;right:18px;
  font-size:22px;cursor:pointer;color:#ff9aa2;
  transition:transform 0.2s,color 0.3s;z-index:999;
}
#closeBtn:hover{transform:scale(1.2);color:#fff;}
/* === Responsive cho ƒëi·ªán tho·∫°i === */
@media (max-width: 768px) {
  .wrap {
    margin: 20px auto;
    padding: 16px;
  }
  .card {
    padding: 20px;
  }
  .intro {
    flex-direction: column;
    text-align: center;
  }
  .icon {
    width: 72px;
    height: 72px;
  }
  .intro h1 {
    font-size: 20px;
  }
  .intro p {
    font-size: 14px;
  }
  input[type="date"], button {
    width: 100%;
    font-size: 14px;
  }
  .controls {
    flex-direction: column;
    gap: 10px;
  }
  #cakeImg {
    width: 140px;
  }
  #giftImages img {
    width: 150px;
  }
  .giftContainer {
    width: 110px;
    height: 110px;
    margin: 10px;
  }
  .giftMessage {
    font-size: 14px;
    padding: 0 10px;
  }
  #closeBtn {
    font-size: 20px;
    top: 10px;
    right: 14px;
  }
}

/* === Responsive cho ƒëi·ªán tho·∫°i r·∫•t nh·ªè (nh∆∞ iPhone SE, 320px) === */
@media (max-width: 400px) {
  .wrap {
    padding: 12px;
  }
  .intro h1 {
    font-size: 18px;
  }
  button {
    font-size: 13px;
    padding: 8px 10px;
  }
}

</style>
</head>
<body>
<div id="closeBtn">‚ùå</div>

<div class="wrap">
  <div class="card">
    <div class="intro">
      <div class="icon"><img src="images/xinchao.gif" alt="icon" style="width:84px;height:84px;border-radius:12px;object-fit:cover"></div>
      <div>
        <h1>Xin ch√†o!</h1>
        <p>Ch·ªçn ng√†y sinh ƒë·ªÉ ti·∫øp t·ª•c ‚Äî n·∫øu ƒë√∫ng s·∫Ω hi·ªán n√∫t "Ti·∫øp".</p>
      </div>
    </div>

    <div class="step">
      <div class="controls" id="dateArea">
        <input type="date" id="birthday">
        <button id="checkBtn">Ki·ªÉm tra</button>
        <button id="nextBtn" disabled>Ti·∫øp</button>
      </div>
      <div class="msg" id="msg"></div>
    </div>

    <div id="birthdayScene">
      <h2>üéÇ Ch√∫c m·ª´ng sinh nh·∫≠t T√∫! üéâ</h2>
      <p>Ch√∫c T√∫ m·ªôt ng√†y tr√†n ng·∫≠p ni·ªÅm vui, ti·∫øng c∆∞·ªùi v√† h·∫°nh ph√∫c üíñ</p>
      <img id="cakeImg" src="images/banhkem1.png" alt="B√°nh sinh nh·∫≠t"><br>
      <button id="openGiftBtn">M·ªü qu√† üéÅ</button>
      <div id="giftImages"></div>

      <div id="giftChoice">
        <h3>Ch·ªçn m·ªôt h·ªôp qu√† nh√© üéÅ</h3>
        <div id="giftBoxes">
          <div class="giftContainer" data-id="1">
            <div class="giftBox">
              <div class="giftLid"></div><div class="giftRibbon"></div>
            </div>
          </div>
          <div class="giftContainer" data-id="2">
            <div class="giftBox">
              <div class="giftLid"></div><div class="giftRibbon"></div>
            </div>
          </div>
          <div class="giftContainer" data-id="3">
            <div class="giftBox">
              <div class="giftLid"></div><div class="giftRibbon"></div>
            </div>
          </div>
        </div>
        <p class="giftMessage" id="giftMessage"></p>
      </div>
    </div>
  </div>
</div>

<audio id="birthdayMusic" loop>
  <source src="hpbd.mp3" type="audio/mpeg">
</audio>

<script>
const rightIso = '2005-11-01';
const dateArea = document.getElementById('dateArea');
const birthday = document.getElementById('birthday');
const checkBtn = document.getElementById('checkBtn');
const nextBtn = document.getElementById('nextBtn');
const msg = document.getElementById('msg');
const birthdayScene = document.getElementById('birthdayScene');
const openGiftBtn = document.getElementById('openGiftBtn');
const giftChoice = document.getElementById('giftChoice');
const giftMessage = document.getElementById('giftMessage');

window.addEventListener('load', () => {
  setTimeout(() => {
    dateArea.style.opacity = 1;
    dateArea.style.transform = 'translateY(0)';
  }, 1200);
});

checkBtn.addEventListener('click', () => {
  const val = birthday.value;
  if (!val) { msg.textContent = 'Vui l√≤ng ch·ªçn ng√†y.'; msg.className = 'msg'; nextBtn.disabled = true; return; }
  if (val === rightIso) { msg.textContent = 'üéâ Ch√≠nh x√°c! B·∫°n c√≥ th·ªÉ ·∫•n "Ti·∫øp".'; msg.className = 'msg ok'; nextBtn.disabled = false; launchConfetti(); }
  else { msg.textContent = '‚ùå Sai r·ªìi, th·ª≠ l·∫°i nh√©.'; msg.className = 'msg'; nextBtn.disabled = true; }
});

nextBtn.addEventListener('click', () => {
  const music = document.getElementById('birthdayMusic');
  music.play().catch(()=>{});
  document.querySelector('.step').style.display = 'none';
  document.querySelector('.intro p').textContent = "Ch√∫c m·ª´ng sinh nh·∫≠t üéâ";
  birthdayScene.style.display = 'block';
});

// üéÅ Slideshow ·∫£nh (5 ·∫£nh)
openGiftBtn.addEventListener('click', () => {
    const giftContainer = document.getElementById('giftImages');
    giftContainer.innerHTML = '';
    let index = 1;
    const img = document.createElement('img');
    img.src = `images/anh${index}.jpg`;
    giftContainer.appendChild(img);
    const interval = setInterval(() => {
      index++;
      if (index > 5) { // ch·ªâ 5 ·∫£nh th√¥i
        clearInterval(interval);
        setTimeout(() => giftChoice.style.display = 'block', 500);
        return;
      }
      img.src = `images/anh${index}.jpg`;
    }, 1200);
  });

// üéÄ H·ªôp qu√†
document.querySelectorAll('.giftContainer').forEach(box => {
    box.addEventListener('click', () => {
      const giftBox = box.querySelector('.giftBox');
      const id = box.dataset.id;
      document.querySelectorAll('.giftBox').forEach(b => b.classList.remove('open'));
      giftMessage.innerHTML = '';
      giftBox.classList.toggle('open');
      if (giftBox.classList.contains('open')) {
        if (id === '1') giftMessage.innerHTML = '<img src="images/hop1.gif" style="width:200px;border-radius:10px;"><br>üíå Ch√∫c b·∫°n lu√¥n xinh ƒë·∫πp, vui t∆∞∆°i v√† ng·∫≠p tr√†n nƒÉng l∆∞·ª£ng nh√©!';
        else if (id === '2') giftMessage.innerHTML = '<img src="images/hop2.gif" style="width:200px;border-radius:10px;"><br>üå∏ Mong nh·ªØng ƒëi·ªÅu t·ªët ƒë·∫πp nh·∫•t s·∫Ω lu√¥n ƒë·∫øn v·ªõi b·∫°n trong nƒÉm nay!';
        else giftMessage.innerHTML = '<img src="images/hop3.gif" style="width:200px;border-radius:10px;"><br>üí´ Ch√∫c b·∫°n lu√¥n h·∫°nh ph√∫c, g·∫∑p nhi·ªÅu may m·∫Øn v√† ƒë·∫°t ƒë∆∞·ª£c m·ªçi ƒëi·ªÅu ∆∞·ªõc!';
        launchConfetti();
      }
    });
  });

function launchConfetti() {
  for (let i = 0; i < 30; i++) {
    const conf = document.createElement('div');
    conf.className = 'confetti';
    conf.style.left = Math.random() * 100 + 'vw';
    conf.style.backgroundColor = `hsl(${Math.random() * 360},70%,60%)`;
    conf.style.animationDuration = (2 + Math.random() * 2) + 's';
    document.body.appendChild(conf);
    setTimeout(() => conf.remove(), 4000);
  }
}

// ‚ùå N√∫t tho√°t
document.getElementById("closeBtn").addEventListener("click", () => {
  const music = document.getElementById("birthdayMusic");
  if (music) music.pause();
  document.body.innerHTML = "<h2 style='color:#fff;text-align:center;margin-top:40vh;'>üíñ H·∫πn g·∫∑p l·∫°i nh√© üíñ</h2>";
  document.body.style.background = "#000";
});
</script>
</body>
</html>
